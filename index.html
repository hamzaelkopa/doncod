<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DONCOD LIFE</title>

<link rel="manifest" href="manifest.json">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{background:#0b1220;color:#e5e7eb;font-family:sans-serif}
.card{background:#111827;border:1px solid #1f2937;border-radius:16px;padding:16px}
.btn{background:#6366f1;padding:10px 14px;border-radius:10px}
input,select{background:#0f172a;border:1px solid #1f2937;padding:10px;border-radius:10px;width:100%}
</style>
</head>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore, doc, setDoc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBeS71iyFfTh4bM5fRadfzd5vALwiqXlEs",
  authDomain: "doncod-life.firebaseapp.com",
  projectId: "doncod-life",
  storageBucket: "doncod-life.firebasestorage.app",
  messagingSenderId: "1014581889148",
  appId: "1:1014581889148:web:144b1024fd168b1ea621f9"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

window.auth = auth;
window.db = db;
window.GoogleAuthProvider = GoogleAuthProvider;
window.signInWithPopup = signInWithPopup;
window.signOut = signOut;
window.doc = doc;
window.setDoc = setDoc;
window.getDoc = getDoc;
window.updateDoc = updateDoc;
</script>
<button onclick="loginGoogle()">Login with Google</button>
<script>
async function loginGoogle(){
  const provider = new GoogleAuthProvider();
  const res = await signInWithPopup(auth, provider);
  const user = res.user;
  alert("Welcome " + user.displayName);
}
</script>

<body class="p-4 max-w-4xl mx-auto space-y-4">

<h1 class="text-xl font-bold">DONCOD LIFE ğŸš€</h1>

<div class="card">
<form id="habitForm" class="flex gap-2">
<input id="habitInput" maxlength="60" placeholder="Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©">
<select id="habitType">
<option value="daily">ÙŠÙˆÙ…ÙŠ</option>
<option value="weekly">Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>
<option value="monthly">Ø´Ù‡Ø±ÙŠ</option>
</select>
<button class="btn">Ø¥Ø¶Ø§ÙØ©</button>
</form>
</div>

<div id="habitList" class="card"></div>

<div class="grid grid-cols-3 gap-3">
<div class="card text-center">ğŸ”¥<br><span id="streak">0</span></div>
<div class="card text-center">â­<br><span id="xp">0</span></div>
<div class="card text-center">ğŸ†<br><span id="level">1</span></div>
</div>

<div class="card">
<canvas id="chart"></canvas>
</div>

<div class="grid grid-cols-2 gap-2">
<button id="notifyBtn" class="btn">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
<button id="backupBtn" class="btn bg-gray-700">Backup</button>
</div>

<input type="file" id="restoreInput" hidden>

<script src="app.js"></script>
</body>
</html>
